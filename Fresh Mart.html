<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">üçÖ ‡§´‡•ç‡§∞‡•á‡§∂ ‡§Æ‡§æ‡§∞‡•ç‡§ü üçé - ‡§§‡§æ‡§ú‡§º‡§æ ‡§´‡§≤ ‡§î‡§∞ ‡§∏‡§¨‡•ç‡§ú‡§ø‡§Ø‡§æ‡§Å ‡§Ü‡§™‡§ï‡•á ‡§¶‡•ç‡§µ‡§æ‡§∞ ‡§§‡§ï!</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        /* ‡§Æ‡•å‡§ú‡•Ç‡§¶‡§æ ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤‡•ç‡§∏ ‡§µ‡§π‡•Ä ‡§∞‡§π‡•á‡§Ç‡§ó‡•Ä, ‡§ï‡•ã‡§à ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§®‡§π‡•Ä‡§Ç */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

        body {
            background-color: #f0f2f5;
            padding: 20px;
            color: #333;
        }

        .header {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #4CAF50, #2e7d32);
            color: white;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .navbar {
            background: #1e1e1e;
            overflow: hidden;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .navbar a {
            color: white;
            padding: 15px 25px;
            text-decoration: none;
            font-size: 1.1em;
            transition: all 0.3s ease;
        }

        .navbar a:hover {
            background: #ddd;
            color: #333;
        }

        .navbar a.active {
            background: #4CAF50;
            color: white;
        }

        .home-section, .dashboard {
            margin: 20px 0;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .slider {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin: 20px auto;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .slides {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }

        .slide {
            min-width: 100%;
            position: relative;
        }

        .slide img {
            width: 100%;
            height: 350px;
            object-fit: cover;
            border-radius: 10px;
        }

        .slide-text {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 1.3em;
        }

        .category {
            margin: 20px 0;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .products {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .product {
            background: #fff;
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .product:hover {
            transform: translateY(-5px);
        }

        .product img {
            width: 160px;
            height: 160px;
            object-fit: cover;
            border-radius: 10px;
        }

        .cart {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }

        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            margin: 5px;
            transition: background 0.3s ease;
        }

        button:hover {
            background: #388e3c;
        }

        .weight-options {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 10px;
        }

        .weight-btn {
            padding: 8px 15px;
            font-size: 0.9em;
            background: #e0e0e0;
            color: #333;
            border-radius: 20px;
        }

        .weight-btn:hover {
            background: #d0d0d0;
        }

        .address-form, .admin-form, .add-product-form, .customize-form, .payment-form, .bill-form, .customer-form, .customer-profile, .admin-dashboard, .customer-dashboard {
            display: none;
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
        }

        .edit-price {
            display: none;
            margin-top: 10px;
        }

        #logoutBtn, #customerLogoutBtn {
            display: none;
            background: #f44336;
        }

        #logoutBtn:hover, #customerLogoutBtn:hover {
            background: #d32f2f;
        }

        #bannerImg {
            width: 100%;
            max-height: 220px;
            object-fit: cover;
            border-radius: 15px;
        }

        #upiQrCode, #bankQrCode, #paymentQrCode {
            width: 220px;
            height: 220px;
            margin: 15px auto;
            display: block;
            border: 1px solid #ddd;
            border-radius: 10px;
        }

        .out-of-stock {
            color: #f44336;
            font-weight: bold;
            margin-top: 10px;
        }

        .dashboard h2 {
            color: #4CAF50;
            margin-bottom: 20px;
        }

        .dashboard-section {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .dashboard-section h3 {
            color: #333;
            margin-bottom: 10px;
        }

        .dashboard-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .dashboard-table th, .dashboard-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .dashboard-table th {
            background: #4CAF50;
            color: white;
        }

        .dashboard-table tr:hover {
            background: #f1f1f1;
        }
    </style>
</head>
<body>
    <!-- ‡§Æ‡•å‡§ú‡•Ç‡§¶‡§æ HTML ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ -->
    <div class="header" id="headerSection">
        <img id="bannerImg" src="" alt="Banner" style="display: none;">
        <h1 id="headerTitle" style="font-size: 2.5em; margin-bottom: 10px;">üçÖ ‡§´‡•ç‡§∞‡•á‡§∂ ‡§Æ‡§æ‡§∞‡•ç‡§ü üçé</h1>
        <p id="headerSubtitle" style="font-size: 1.2em;">‡§§‡§æ‡§ú‡§º‡§æ ‡§´‡§≤ ‡§î‡§∞ ‡§∏‡§¨‡•ç‡§ú‡§ø‡§Ø‡§æ‡§Å ‡§Ü‡§™‡§ï‡•á ‡§¶‡•ç‡§µ‡§æ‡§∞ ‡§§‡§ï!</p>
        <p id="headerInfo"><br> ‡§¶‡•Å‡§ï‡§æ‡§® ‡§®‡§Ç‡§¨‡§∞ 205, ‡§´‡•á‡§ú 5, ‡§Æ‡•ã‡§π‡§æ‡§≤‡•Ä ,Nagar, Punjab, 160055 <br> ‡§Æ‡§æ‡§≤‡§ø‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ (‡§™‡•ç‡§∞‡§ø‡§Ç‡§∏ ‡§ï‡•Å‡§Æ‡§æ‡§∞ ‡§™‡§æ‡§Ç‡§°‡•á)<br> ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï :- 9463860032 </br></p>
        <button id="adminBtn" onclick="showAdminForm()">üõ†Ô∏è Admin LogIn </button>
        <button id="logoutBtn" onclick="logoutAdmin()">üö™ ‡§≤‡•â‡§ó‡§Ü‡§â‡§ü</button>
        <button id="customerLoginBtn" onclick="showCustomerForm('login')">üë§ ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§≤‡•â‡§ó‡§ø‡§®</button>
        <button id="customerRegisterBtn" onclick="showCustomerForm('register')">üìù ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞</button>
        <button id="customerLogoutBtn" onclick="logoutCustomer()">üö™ ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§≤‡•â‡§ó‡§Ü‡§â‡§ü</button>
    </div>

    <div class="navbar" id="navbar">
        <a href="#" class="active" onclick="showSection('home')">‡§π‡•ã‡§Æ</a>
        <a href="#" onclick="showSection('fruits')">‡§´‡§≤</a>
        <a href="#" onclick="showSection('vegetables')">‡§∏‡§¨‡•ç‡§ú‡§ø‡§Ø‡§æ‡§Å</a>
        <a href="#" id="profileLink" onclick="showSection('customerDashboard')" style="display: none;">‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°</a>
        <a href="#" id="adminDashboardLink" onclick="showSection('adminDashboard')" style="display: none;">‡§è‡§°‡§Æ‡§ø‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°</a>
    </div>

    <!-- ‡§π‡•ã‡§Æ ‡§∏‡•á‡§ï‡•ç‡§∂‡§® -->
    <div class="home-section" id="homeSection">
        <h2 id="homeTitle">‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç</h2>
        <p id="homeInfo">‡§´‡•ç‡§∞‡•á‡§∂ ‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à! ‡§π‡§Æ ‡§§‡§æ‡§ú‡§º‡§æ ‡§î‡§∞ ‡§∏‡•ç‡§µ‡§∏‡•ç‡§• ‡§´‡§≤ ‡§î‡§∞ ‡§∏‡§¨‡•ç‡§ú‡§ø‡§Ø‡§æ‡§Å ‡§∏‡•Ä‡§ß‡•á ‡§Ü‡§™‡§ï‡•á ‡§¶‡•ç‡§µ‡§æ‡§∞ ‡§§‡§ï ‡§™‡§π‡•Å‡§Å‡§ö‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§π‡•à ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•ã ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§ó‡•Å‡§£‡§µ‡§§‡•ç‡§§‡§æ ‡§î‡§∞ ‡§§‡§æ‡§ú‡§º‡§ó‡•Ä ‡§Æ‡§ø‡§≤‡•á‡•§ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§™‡§æ‡§∏ ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•á ‡§´‡§≤ ‡§î‡§∞ ‡§∏‡§¨‡•ç‡§ú‡§ø‡§Ø‡§æ‡§Å ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡§Ç ‡§ú‡•ã ‡§π‡§∞ ‡§Æ‡•å‡§∏‡§Æ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§ö‡•Å‡§®‡§ø‡§Ç‡§¶‡§æ ‡§π‡•à‡§Ç‡•§</p>
        <div class="slider" id="slider">
            <div class="slides" id="slides">
                <div class="slide">
                    <img src="images/mango.jpg" alt="‡§Ü‡§Æ" id="slideImg1">
                    <div class="slide-text" id="slideText1">‡§Ü‡§Æ - ‡§ó‡§∞‡•ç‡§Æ‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§∞‡§æ‡§ú‡§æ, ‡§∏‡•ç‡§µ‡§æ‡§¶ ‡§î‡§∞ ‡§∏‡•á‡§π‡§§ ‡§∏‡•á ‡§≠‡§∞‡§™‡•Ç‡§∞!</div>
                </div>
                <div class="slide">
                    <img src="images/tomato.jpg" alt="‡§ü‡§Æ‡§æ‡§ü‡§∞" id="slideImg2">
                    <div class="slide-text" id="slideText2">‡§ü‡§Æ‡§æ‡§ü‡§∞ - ‡§π‡§∞ ‡§∞‡§∏‡•ã‡§à ‡§ï‡•Ä ‡§∂‡§æ‡§®, ‡§§‡§æ‡§ú‡§º‡§ó‡•Ä ‡§ï‡§æ ‡§ñ‡§ú‡§æ‡§®‡§æ!</div>
                </div>
                <div class="slide">
                    <img src="images/kiwi.jpg" alt="‡§ï‡•Ä‡§µ‡•Ä" id="slideImg3">
                    <div class="slide-text" id="slideText3">‡§ï‡•Ä‡§µ‡•Ä - ‡§µ‡§ø‡§ü‡§æ‡§Æ‡§ø‡§® C ‡§ï‡§æ ‡§≠‡§Ç‡§°‡§æ‡§∞, ‡§∏‡•ç‡§µ‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§Ö‡§®‡•ã‡§ñ‡§æ!</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ‡§´‡§≤ ‡§∏‡•á‡§ï‡•ç‡§∂‡§® -->
    <div class="category" id="fruitsSection" style="display: none;">
        <h2>‡§´‡§≤ (500g/1kg)</h2>
        <div class="products" id="fruits"></div>
        <div class="cart" id="fruitsCartSection">
            <h2>üõí ‡§Ü‡§™‡§ï‡•Ä ‡§ü‡•ã‡§ï‡§∞‡•Ä</h2>
            <div id="cartItems"></div>
            <p>‡§∏‡§¨‡§ü‡•ã‡§ü‡§≤: ‚Çπ<span id="subtotal">0</span></p>
            <p>‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü: ‚Çπ<span id="discount">0</span></p>
            <p>‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§ö‡§æ‡§∞‡•ç‡§ú: ‚Çπ<span id="deliveryCharge">30</span></p>
            <p style="font-weight: bold;">‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø: ‚Çπ<span id="total">0</span></p>
            <button onclick="showAddressForm()">‚úÖ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡•á‡§Ç</button>
        </div>
    </div>

    <!-- ‡§∏‡§¨‡•ç‡§ú‡§ø‡§Ø‡§æ‡§Å ‡§∏‡•á‡§ï‡•ç‡§∂‡§® -->
    <div class="category" id="vegetablesSection" style="display: none;">
        <h2>‡§∏‡§¨‡•ç‡§ú‡§ø‡§Ø‡§æ‡§Å (500g/1kg)</h2>
        <div class="products" id="vegetables"></div>
        <div class="cart" id="vegetablesCartSection">
            <h2>üõí ‡§Ü‡§™‡§ï‡•Ä ‡§ü‡•ã‡§ï‡§∞‡•Ä</h2>
            <div id="cartItemsVegetables"></div>
            <p>‡§∏‡§¨‡§ü‡•ã‡§ü‡§≤: ‚Çπ<span id="subtotalVegetables">0</span></p>
            <p>‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü: ‚Çπ<span id="discountVegetables">0</span></p>
            <p>‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§ö‡§æ‡§∞‡•ç‡§ú: ‚Çπ<span id="deliveryChargeVegetables">30</span></p>
            <p style="font-weight: bold;">‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø: ‚Çπ<span id="totalVegetables">0</span></p>
            <button onclick="showAddressForm()">‚úÖ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡•á‡§Ç</button>
        </div>
    </div>

    <!-- ‡§è‡§°‡§Æ‡§ø‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° -->
    <div class="admin-dashboard" id="adminDashboardSection" style="display: none;">
        <h2>‡§è‡§°‡§Æ‡§ø‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°</h2>
        <div class="dashboard-section">
            <h3>‡§ï‡•Å‡§≤ ‡§ë‡§∞‡•ç‡§°‡§∞</h3>
            <p id="totalOrders">0</p>
        </div>
        <div class="dashboard-section">
            <h3>‡§ï‡•Å‡§≤ ‡§Ü‡§Ø</h3>
            <p id="totalRevenue">‚Çπ0</p>
        </div>
        <div class="dashboard-section">
            <h3>‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§°</h3>
            <table class="dashboard-table">
                <thead>
                    <tr>
                        <th>‡§®‡§æ‡§Æ</th>
                        <th>‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤</th>
                        <th>‡§ë‡§∞‡•ç‡§°‡§∞</th>
                        <th>‡§∞‡§æ‡§∂‡§ø</th>
                        <th>‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï</th>
                        <th>‡§™‡§§‡§æ</th>
                        <th>‡§¨‡§ø‡§≤ (PDF)</th>
                    </tr>
                </thead>
                <tbody id="adminCustomerRecords"></tbody>
            </table>
        </div>
        <div class="dashboard-section">
            <h3>‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§∏‡•ç‡§ü‡•â‡§ï</h3>
            <table class="dashboard-table">
                <thead>
                    <tr>
                        <th>‡§®‡§æ‡§Æ</th>
                        <th>500g ‡§ï‡•Ä‡§Æ‡§§</th>
                        <th>1kg ‡§ï‡•Ä‡§Æ‡§§</th>
                        <th>‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü</th>
                        <th>‡§∏‡•ç‡§ü‡•â‡§ï</th>
                    </tr>
                </thead>
                <tbody id="adminStockRecords"></tbody>
            </table>
        </div>
    </div>

    <!-- ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° -->
    <div class="customer-dashboard" id="customerDashboardSection" style="display: none;">
        <h2>‡§Ü‡§™‡§ï‡§æ ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°</h2>
        <div class="dashboard-section">
            <h3>‡§™‡•ç‡§∞‡•ã‡§´‡§æ‡§á‡§≤</h3>
            <p id="customerDashInfo"></p>
        </div>
        <div class="dashboard-section">
            <h3>‡§ñ‡§∞‡•Ä‡§¶ ‡§á‡§§‡§ø‡§π‡§æ‡§∏</h3>
            <table class="dashboard-table">
                <thead>
                    <tr>
                        <th>‡§ë‡§∞‡•ç‡§°‡§∞</th>
                        <th>‡§∞‡§æ‡§∂‡§ø</th>
                        <th>‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï</th>
                        <th>‡§™‡§§‡§æ</th>
                        <th>‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏</th>
                        <th>‡§¨‡§ø‡§≤ (PDF)</th>
                    </tr>
                </thead>
                <tbody id="customerPurchaseHistory"></tbody>
            </table>
        </div>
        <div class="dashboard-section">
            <h3>‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§ë‡§∞‡•ç‡§°‡§∞</h3>
            <div id="currentOrderDetails"></div>
        </div>
    </div>

    <div class="address-form" id="addressForm">
        <h3>‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§ï‡§æ ‡§™‡§§‡§æ</h3>
        <input type="text" id="name" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ">
        <input type="tel" id="mobile" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞">
        <input type="text" id="address" placeholder="‡§™‡•Ç‡§∞‡§æ ‡§™‡§§‡§æ">
        <button onclick="requestLocation()">üìç ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡•á‡§Ç</button>
        <button onclick="showPaymentForm()">üí≥ ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü</button>
        <button onclick="placeOrder()">üì≤ ‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§è‡§™‡•ç‡§™ ‡§™‡§∞ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>

    <div class="payment-form" id="paymentForm">
        <h3>‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü</h3>
        <p>‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø: ‚Çπ<span id="paymentTotal">0</span></p>
        <h4>UPI ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü</h4>
        <img id="upiQrCode" src="" alt="UPI QR Code">
        <p>‡§ä‡§™‡§∞ ‡§¶‡§ø‡§è ‡§ó‡§è QR ‡§ï‡•ã‡§° ‡§ï‡•ã ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞‡•á‡§Ç‡•§</p>
        <h4>‡§¨‡•à‡§Ç‡§ï ‡§Ö‡§ï‡§æ‡§â‡§Ç‡§ü</h4>
        <p id="bankDetails">‡§¨‡•à‡§Ç‡§ï ‡§°‡§ø‡§ü‡•á‡§≤‡•ç‡§∏ ‡§Ø‡§π‡§æ‡§Å ‡§¶‡§ø‡§ñ‡•á‡§Ç‡§ó‡•Ä‡•§</p>
        <img id="bankQrCode" src="" alt="Bank QR Code">
        <p>‡§ä‡§™‡§∞ ‡§¶‡§ø‡§è ‡§ó‡§è QR ‡§ï‡•ã‡§° ‡§ï‡•ã ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞‡•á‡§Ç‡•§</p>
        <h4>‡§ë‡§∞‡•ç‡§°‡§∞ QR ‡§ï‡•ã‡§°</h4>
        <img id="paymentQrCode" src="" alt="Order QR Code">
        <p>‡§á‡§∏ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡•Ç‡§®‡§ø‡§ï QR ‡§ï‡•ã‡§° ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞‡•á‡§Ç‡•§</p>
        <button onclick="confirmPayment()">‚úÖ ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>

    <div class="bill-form" id="billForm">
        <h3>‡§Ü‡§™‡§ï‡§æ ‡§¨‡§ø‡§≤</h3>
        <p id="billDetails"></p>
        <button onclick="document.getElementById('billForm').style.display = 'none'">‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>

    <div class="customer-form" id="customerLoginForm">
        <h3>‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§≤‡•â‡§ó‡§ø‡§®</h3>
        <input type="text" id="loginMobile" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§Ø‡§æ ‡§ú‡•Ä‡§Æ‡•á‡§≤">
        <input type="password" id="loginPassword" placeholder="‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°">
        <button onclick="loginCustomer()">‡§≤‡•â‡§ó‡§ø‡§®</button>
        <button onclick="googleLogin()">Google ‡§∏‡•á ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</button>
    </div>

    <div class="customer-form" id="customerRegisterForm">
        <h3>‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞</h3>
        <input type="text" id="registerName" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ">
        <input type="tel" id="registerMobile" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞">
        <input type="email" id="registerEmail" placeholder="‡§ú‡•Ä‡§Æ‡•á‡§≤">
        <input type="password" id="registerPassword" placeholder="‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°">
        <button onclick="registerCustomer()">‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞</button>
        <button onclick="googleLogin()">Google ‡§∏‡•á ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>

    <div class="admin-form" id="adminForm">
        <h3>üõ†Ô∏è Admin Panel</h3>
        <input type="password" id="adminPassword" placeholder="‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§°‡§æ‡§≤‡•á‡§Ç">
        <button onclick="verifyAdmin()">‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</button>
    </div>

    <div class="add-product-form" id="addProductForm">
        <h3>‡§®‡§Ø‡§æ ‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</h3>
        <input type="text" id="newProductName" placeholder="‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§ï‡§æ ‡§®‡§æ‡§Æ (‡§ú‡•à‡§∏‡•á: ‡§Ü‡§Æ (Mango))">
        <select id="newProductCategory">
            <option value="fruit">‡§´‡§≤</option>
            <option value="vegetable">‡§∏‡§¨‡•ç‡§ú‡•Ä</option>
        </select>
        <input type="number" id="newPrice500g" placeholder="500g ‡§ï‡•Ä ‡§ï‡•Ä‡§Æ‡§§">
        <input type="number" id="newPrice1kg" placeholder="1kg ‡§ï‡•Ä ‡§ï‡•Ä‡§Æ‡§§">
        <input type="number" id="newDiscount500g" placeholder="500g ‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü ‡§ï‡•Ä‡§Æ‡§§ (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)">
        <input type="number" id="newDiscount1kg" placeholder="1kg ‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü ‡§ï‡•Ä‡§Æ‡§§ (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)">
        <input type="file" id="newProductImage" accept="image/*">
        <label><input type="checkbox" id="newOutOfStock"> ‡§Ü‡§â‡§ü ‡§ë‡§´ ‡§∏‡•ç‡§ü‡•â‡§ï</label>
        <button onclick="addNewProduct()">‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</button>
    </div>

    <div class="customize-form" id="customizeForm">
        <h3>‡§∏‡§æ‡§á‡§ü ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§æ‡§á‡§ú‡§º ‡§ï‡§∞‡•á‡§Ç</h3>
        <h4>‡§π‡•á‡§°‡§∞</h4>
        <input type="text" id="customTitle" placeholder="‡§®‡§Ø‡§æ ‡§ü‡§æ‡§á‡§ü‡§≤ (‡§ú‡•à‡§∏‡•á: ‡§´‡•ç‡§∞‡•á‡§∂ ‡§Æ‡§æ‡§∞‡•ç‡§ü)">
        <input type="text" id="customSubtitle" placeholder="‡§®‡§Ø‡§æ ‡§∏‡§¨‡§ü‡§æ‡§á‡§ü‡§≤ (‡§ú‡•à‡§∏‡•á: ‡§§‡§æ‡§ú‡§º‡§æ ‡§´‡§≤ ‡§î‡§∞ ‡§∏‡§¨‡•ç‡§ú‡§ø‡§Ø‡§æ‡§Å)">
        <input type="text" id="customInfo" placeholder="‡§®‡§Ø‡§æ ‡§∏‡•ç‡§ü‡•ã‡§∞ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä">
        <input type="file" id="customBanner" accept="image/*" onchange="previewBanner()">
        <input type="color" id="customColor" value="#4CAF50" placeholder="‡§π‡•á‡§°‡§∞ ‡§ï‡§æ ‡§∞‡§Ç‡§ó">

        <h4>‡§π‡•ã‡§Æ ‡§∏‡•á‡§ï‡•ç‡§∂‡§®</h4>
        <input type="text" id="homeCustomTitle" placeholder="‡§π‡•ã‡§Æ ‡§ü‡§æ‡§á‡§ü‡§≤ (‡§ú‡•à‡§∏‡•á: ‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç)">
        <textarea id="homeCustomInfo" placeholder="‡§π‡•ã‡§Æ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä" rows="4"></textarea>
        <h5>‡§∏‡•ç‡§≤‡§æ‡§á‡§°‡§∞ 1</h5>
        <input type="file" id="slideCustomImg1" accept="image/*" onchange="previewSlide(1)">
        <input type="text" id="slideCustomText1" placeholder="‡§∏‡•ç‡§≤‡§æ‡§á‡§° 1 ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü">
        <h5>‡§∏‡•ç‡§≤‡§æ‡§á‡§°‡§∞ 2</h5>
        <input type="file" id="slideCustomImg2" accept="image/*" onchange="previewSlide(2)">
        <input type="text" id="slideCustomText2" placeholder="‡§∏‡•ç‡§≤‡§æ‡§á‡§° 2 ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü">
        <h5>‡§∏‡•ç‡§≤‡§æ‡§á‡§°‡§∞ 3</h5>
        <input type="file" id="slideCustomImg3" accept="image/*" onchange="previewSlide(3)">
        <input type="text" id="slideCustomText3" placeholder="‡§∏‡•ç‡§≤‡§æ‡§á‡§° 3 ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü">

        <h4>‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ë‡§™‡•ç‡§∂‡§®‡•ç‡§∏</h4>
        <input type="file" id="upiQrInput" accept="image/*" onchange="previewUpiQr()">
        <input type="text" id="bankAccountNo" placeholder="‡§¨‡•à‡§Ç‡§ï ‡§Ö‡§ï‡§æ‡§â‡§Ç‡§ü ‡§®‡§Ç‡§¨‡§∞">
        <input type="text" id="bankIfsc" placeholder="IFSC ‡§ï‡•ã‡§°">
        <input type="file" id="bankQrInput" accept="image/*" onchange="previewBankQr()">

        <button onclick="updateAll()">‡§∏‡§π‡•á‡§ú‡•á‡§Ç</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.4.4/build/qrcode.min.js"></script>
    <script>
        let products = JSON.parse(localStorage.getItem('products')) || [
            {id: 1, name: "‡§Ü‡§Æ (Mango)", category: "fruit", image: "images/mango.jpg", price500g: 60, price1kg: 110, discount500g: 0, discount1kg: 0, outOfStock: false},
            {id: 2, name: "‡§ï‡•á‡§≤‡§æ (Banana)", category: "fruit", image: "images/banana.jpg", price500g: 20, price1kg: 35, discount500g: 0, discount1kg: 0, outOfStock: false},
            {id: 25, name: "‡§Ü‡§≤‡•Ç (Potato)", category: "vegetable", image: "images/potato.jpg", price500g: 15, price1kg: 25, discount500g: 0, discount1kg: 0, outOfStock: false},
            {id: 26, name: "‡§ü‡§Æ‡§æ‡§ü‡§∞ (Tomato)", category: "vegetable", image: "images/tomato.jpg", price500g: 20, price1kg: 35, discount500g: 0, discount1kg: 0, outOfStock: false}
        ];

        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let paymentRecords = JSON.parse(localStorage.getItem('paymentRecords')) || [];
        let customers = JSON.parse(localStorage.getItem('customers')) || [];
        let currentCustomer = null;
        const DELIVERY_CHARGE = 30;
        const ADMIN_PASSWORD = "Pandey@123";
        let isAdminMode = false;
        const GOOGLE_CLIENT_ID = "YOUR_GOOGLE_CLIENT_ID"; // Google API Console ‡§∏‡•á ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç
        const REDIRECT_URI = "YOUR_REDIRECT_URI"; // ‡§Ü‡§™‡§ï‡•á ‡§è‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§∂‡§® ‡§ï‡§æ URI
        const SHOP_ADDRESS = "‡§¶‡•Å‡§ï‡§æ‡§® ‡§®‡§Ç‡§¨‡§∞ 205, ‡§´‡•á‡§ú 5, ‡§Æ‡•ã‡§π‡§æ‡§≤‡•Ä, Nagar, Punjab, 160055\n‡§Æ‡§æ‡§≤‡§ø‡§ï: ‡§™‡•ç‡§∞‡§ø‡§Ç‡§∏ ‡§ï‡•Å‡§Æ‡§æ‡§∞ ‡§™‡§æ‡§Ç‡§°‡•á\n‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï: 9463860032";

        // ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç
        function loadData() {
            const headerData = JSON.parse(localStorage.getItem('headerData')) || {};
            const homeData = JSON.parse(localStorage.getItem('homeData')) || {};
            const sliderData = JSON.parse(localStorage.getItem('sliderData')) || [
                { img: "images/mango.jpg", text: "‡§Ü‡§Æ - ‡§ó‡§∞‡•ç‡§Æ‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§∞‡§æ‡§ú‡§æ, ‡§∏‡•ç‡§µ‡§æ‡§¶ ‡§î‡§∞ ‡§∏‡•á‡§π‡§§ ‡§∏‡•á ‡§≠‡§∞‡§™‡•Ç‡§∞!" },
                { img: "images/tomato.jpg", text: "‡§ü‡§Æ‡§æ‡§ü‡§∞ - ‡§π‡§∞ ‡§∞‡§∏‡•ã‡§à ‡§ï‡•Ä ‡§∂‡§æ‡§®, ‡§§‡§æ‡§ú‡§º‡§ó‡•Ä ‡§ï‡§æ ‡§ñ‡§ú‡§æ‡§®‡§æ!" },
                { img: "images/kiwi.jpg", text: "‡§ï‡•Ä‡§µ‡•Ä - ‡§µ‡§ø‡§ü‡§æ‡§Æ‡§ø‡§® C ‡§ï‡§æ ‡§≠‡§Ç‡§°‡§æ‡§∞, ‡§∏‡•ç‡§µ‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§Ö‡§®‡•ã‡§ñ‡§æ!" }
            ];
            const paymentData = JSON.parse(localStorage.getItem('paymentData')) || {};

            if (headerData.title) document.getElementById('headerTitle').textContent = headerData.title;
            if (headerData.subtitle) document.getElementById('headerSubtitle').textContent = headerData.subtitle;
            if (headerData.info) document.getElementById('headerInfo').innerHTML = `<br>${headerData.info.replace(/\n/g, '<br>')}`;
            if (headerData.color) document.getElementById('headerSection').style.backgroundColor = headerData.color;
            if (headerData.banner) {
                document.getElementById('bannerImg').src = headerData.banner;
                document.getElementById('bannerImg').style.display = 'block';
            }

            if (homeData.title) document.getElementById('homeTitle').textContent = homeData.title;
            if (homeData.info) document.getElementById('homeInfo').textContent = homeData.info;

            for (let i = 0; i < sliderData.length; i++) {
                document.getElementById(`slideImg${i + 1}`).src = sliderData[i].img;
                document.getElementById(`slideText${i + 1}`).textContent = sliderData[i].text;
            }

            if (paymentData.upiQr) document.getElementById('upiQrCode').src = paymentData.upiQr;
            if (paymentData.bankQr) document.getElementById('bankQrCode').src = paymentData.bankQr;
            if (paymentData.bankAccountNo && paymentData.bankIfsc) {
                document.getElementById('bankDetails').textContent = `‡§Ö‡§ï‡§æ‡§â‡§Ç‡§ü ‡§®‡§Ç‡§¨‡§∞: ${paymentData.bankAccountNo}, IFSC: ${paymentData.bankIfsc}`;
            }

            currentCustomer = JSON.parse(localStorage.getItem('currentCustomer')) || null;
            updateCustomerUI();
        }

        // ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ UI ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
        function updateCustomerUI() {
            if (currentCustomer) {
                document.getElementById('customerLoginBtn').style.display = 'none';
                document.getElementById('customerRegisterBtn').style.display = 'none';
                document.getElementById('customerLogoutBtn').style.display = 'inline-block';
                document.getElementById('profileLink').style.display = 'inline-block';
            } else {
                document.getElementById('customerLoginBtn').style.display = 'inline-block';
                document.getElementById('customerRegisterBtn').style.display = 'inline-block';
                document.getElementById('customerLogoutBtn').style.display = 'none';
                document.getElementById('profileLink').style.display = 'none';
            }
            if (isAdminMode) {
                document.getElementById('adminDashboardLink').style.display = 'inline-block';
            } else {
                document.getElementById('adminDashboardLink').style.display = 'none';
            }
        }

        // ‡§∏‡•á‡§ï‡•ç‡§∂‡§® ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Å/‡§õ‡§ø‡§™‡§æ‡§è‡§Å
        function showSection(section) {
            const homeSection = document.getElementById('homeSection');
            const fruitsSection = document.getElementById('fruitsSection');
            const vegetablesSection = document.getElementById('vegetablesSection');
            const adminDashboardSection = document.getElementById('adminDashboardSection');
            const customerDashboardSection = document.getElementById('customerDashboardSection');
            const navbarLinks = document.getElementById('navbar').getElementsByTagName('a');

            for (let link of navbarLinks) {
                link.classList.remove('active');
            }

            homeSection.style.display = 'none';
            fruitsSection.style.display = 'none';
            vegetablesSection.style.display = 'none';
            adminDashboardSection.style.display = 'none';
            customerDashboardSection.style.display = 'none';

            if (section === 'home') {
                homeSection.style.display = 'block';
                navbarLinks[0].classList.add('active');
            } else if (section === 'fruits') {
                fruitsSection.style.display = 'block';
                navbarLinks[1].classList.add('active');
            } else if (section === 'vegetables') {
                vegetablesSection.style.display = 'block';
                navbarLinks[2].classList.add('active');
            } else if (section === 'customerDashboard' && currentCustomer) {
                customerDashboardSection.style.display = 'block';
                navbarLinks[3].classList.add('active');
                showCustomerDashboard();
            } else if (section === 'adminDashboard' && isAdminMode) {
                adminDashboardSection.style.display = 'block';
                navbarLinks[4].classList.add('active');
                showAdminDashboard();
            }

            if (!isAdminMode) renderProducts();
        }

        // ‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü‡•ç‡§∏ ‡§î‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Å/‡§õ‡§ø‡§™‡§æ‡§è‡§Å
        function renderProducts() {
            const fruitsContainer = document.getElementById('fruits');
            const vegetablesContainer = document.getElementById('vegetables');
            const fruitsCartSection = document.getElementById('fruitsCartSection');
            const vegetablesCartSection = document.getElementById('vegetablesCartSection');
            const customizeForm = document.getElementById('customizeForm');

            fruitsContainer.innerHTML = products
                .filter(p => p.category === 'fruit')
                .map(product => productHTML(product))
                .join('');

            vegetablesContainer.innerHTML = products
                .filter(p => p.category === 'vegetable')
                .map(product => productHTML(product))
                .join('');

            if (isAdminMode) {
                document.getElementById('addProductForm').style.display = 'block';
                fruitsCartSection.style.display = 'none';
                vegetablesCartSection.style.display = 'none';
                customizeForm.style.display = 'block';
            } else {
                document.getElementById('addProductForm').style.display = 'none';
                fruitsCartSection.style.display = 'block';
                vegetablesCartSection.style.display = 'block';
                customizeForm.style.display = 'none';
            }

            renderCart();
        }

        // ‡§∏‡•ç‡§≤‡§æ‡§á‡§°‡§∞ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®‡•à‡§≤‡§ø‡§ü‡•Ä
        let slideIndex = 0;
        const slides = document.getElementById('slides');
        const slideCount = document.getElementsByClassName('slide').length;

        function showSlides() {
            slideIndex++;
            if (slideIndex >= slideCount) slideIndex = 0;
            slides.style.transform = `translateX(${-slideIndex * 100}%)`;
            setTimeout(showSlides, 3000);
        }

        showSlides();

        function productHTML(product) {
            if (isAdminMode) {
                return `
                    <div class="product">
                        <img src="${product.image}" alt="${product.name}">
                        <h3>${product.name}</h3>
                        <div class="edit-price" style="display: block;">
                            <input type="number" id="price500g_${product.id}" value="${product.price500g}" placeholder="500g ‡§ï‡•Ä‡§Æ‡§§">
                            <input type="number" id="price1kg_${product.id}" value="${product.price1kg}" placeholder="1kg ‡§ï‡•Ä‡§Æ‡§§">
                            <input type="number" id="discount500g_${product.id}" value="${product.discount500g}" placeholder="500g ‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü ‡§ï‡•Ä‡§Æ‡§§">
                            <input type="number" id="discount1kg_${product.id}" value="${product.discount1kg}" placeholder="1kg ‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü ‡§ï‡•Ä‡§Æ‡§§">
                            <input type="file" id="image_${product.id}" accept="image/*" onchange="previewImage(${product.id})">
                            <label><input type="checkbox" id="outOfStock_${product.id}" ${product.outOfStock ? 'checked' : ''}> ‡§Ü‡§â‡§ü ‡§ë‡§´ ‡§∏‡•ç‡§ü‡•â‡§ï</label>
                            <button onclick="updatePriceAndImage(${product.id})">‡§∏‡§π‡•á‡§ú‡•á‡§Ç</button>
                        </div>
                    </div>
                `;
            } else {
                return `
                    <div class="product">
                        <img src="${product.image}" alt="${product.name}">
                        <h3>${product.name}</h3>
                        ${product.outOfStock ? '<p class="out-of-stock">‡§Ü‡§â‡§ü ‡§ë‡§´ ‡§∏‡•ç‡§ü‡•â‡§ï</p>' : `
                            <div class="weight-options">
                                <button class="weight-btn" ${product.outOfStock ? 'disabled' : ''} onclick="addToCart(${product.id}, 0.5, ${product.discount500g > 0 ? product.discount500g : product.price500g})">
                                    500g - ‚Çπ${product.discount500g > 0 ? `<s>${product.price500g}</s> ${product.discount500g}` : product.price500g}
                                </button>
                                <button class="weight-btn" ${product.outOfStock ? 'disabled' : ''} onclick="addToCart(${product.id}, 1, ${product.discount1kg > 0 ? product.discount1kg : product.price1kg})">
                                    1kg - ‚Çπ${product.discount1kg > 0 ? `<s>${product.price1kg}</s> ${product.discount1kg}` : product.price1kg}
                                </button>
                            </div>
                        `}
                    </div>
                `;
            }
        }

        // ‡§õ‡§µ‡§ø ‡§™‡•ç‡§∞‡•Ä‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡§∞‡•á‡§Ç
        function previewImage(productId) {
            if (!isAdminMode) return;
            const fileInput = document.getElementById(`image_${productId}`);
            const file = fileInput.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const product = products.find(p => p.id === productId);
                    product.image = e.target.result;
                    renderProducts();
                };
                reader.readAsDataURL(file);
            }
        }

        // ‡§ï‡•Ä‡§Æ‡§§ ‡§î‡§∞ ‡§õ‡§µ‡§ø ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
        function updatePriceAndImage(productId) {
            if (!isAdminMode) return;
            const price500g = parseInt(document.getElementById(`price500g_${productId}`).value);
            const price1kg = parseInt(document.getElementById(`price1kg_${productId}`).value);
            const discount500g = parseInt(document.getElementById(`discount500g_${productId}`).value) || 0;
            const discount1kg = parseInt(document.getElementById(`discount1kg_${productId}`).value) || 0;
            const outOfStock = document.getElementById(`outOfStock_${productId}`).checked;

            if (isNaN(price500g) || isNaN(price1kg) || price500g < 0 || price1kg < 0 || discount500g < 0 || discount1kg < 0) {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§µ‡•à‡§ß ‡§ï‡•Ä‡§Æ‡§§ ‡§°‡§æ‡§≤‡•á‡§Ç!");
                return;
            }

            const product = products.find(p => p.id === productId);
            product.price500g = price500g;
            product.price1kg = price1kg;
            product.discount500g = discount500g;
            product.discount1kg = discount1kg;
            product.outOfStock = outOfStock;

            const fileInput = document.getElementById(`image_${productId}`);
            if (fileInput.files.length > 0) {
                const file = fileInput.files[0];
                const reader = new FileReader();
                reader.onload = function(e) {
                    product.image = e.target.result;
                    localStorage.setItem('products', JSON.stringify(products));
                    alert(`${product.name} ‡§ï‡•Ä ‡§ï‡•Ä‡§Æ‡§§, ‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü, ‡§î‡§∞ ‡§∏‡•ç‡§ü‡•â‡§ï ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡•Ä ‡§ó‡§à!`);
                    renderProducts();
                    showAdminDashboard();
                };
                reader.readAsDataURL(file);
            } else {
                localStorage.setItem('products', JSON.stringify(products));
                alert(`${product.name} ‡§ï‡•Ä ‡§ï‡•Ä‡§Æ‡§§, ‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü, ‡§î‡§∞ ‡§∏‡•ç‡§ü‡•â‡§ï ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡•Ä ‡§ó‡§à!`);
                renderProducts();
                showAdminDashboard();
            }
        }

        // ‡§®‡§Ø‡§æ ‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§ú‡•ã‡§°‡§º‡•á‡§Ç
        function addNewProduct() {
            if (!isAdminMode) return;
            const name = document.getElementById('newProductName').value;
            const category = document.getElementById('newProductCategory').value;
            const price500g = parseInt(document.getElementById('newPrice500g').value);
            const price1kg = parseInt(document.getElementById('newPrice1kg').value);
            const discount500g = parseInt(document.getElementById('newDiscount500g').value) || 0;
            const discount1kg = parseInt(document.getElementById('newDiscount1kg').value) || 0;
            const outOfStock = document.getElementById('newOutOfStock').checked;
            const fileInput = document.getElementById('newProductImage');

            if (!name || isNaN(price500g) || isNaN(price1kg) || price500g < 0 || price1kg < 0 || discount500g < 0 || discount1kg < 0 || !fileInput.files[0]) {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§∏‡§π‡•Ä ‡§∏‡•á ‡§≠‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§õ‡§µ‡§ø ‡§ö‡•Å‡§®‡•á‡§Ç!");
                return;
            }

            const file = fileInput.files[0];
            const reader = new FileReader();
            reader.onload = function(e) {
                const newId = products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1;
                const newProduct = {
                    id: newId,
                    name: name,
                    category: category,
                    image: e.target.result,
                    price500g: price500g,
                    price1kg: price1kg,
                    discount500g: discount500g,
                    discount1kg: discount1kg,
                    outOfStock: outOfStock
                };
                products.push(newProduct);
                localStorage.setItem('products', JSON.stringify(products));
                alert(`${name} ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ú‡•ã‡§°‡§º‡§æ ‡§ó‡§Ø‡§æ!`);
                document.getElementById('newProductName').value = '';
                document.getElementById('newPrice500g').value = '';
                document.getElementById('newPrice1kg').value = '';
                document.getElementById('newDiscount500g').value = '';
                document.getElementById('newDiscount1kg').value = '';
                document.getElementById('newOutOfStock').checked = false;
                document.getElementById('newProductImage').value = '';
                renderProducts();
                showAdminDashboard();
            };
            reader.readAsDataURL(file);
        }

        // ‡§¨‡•à‡§®‡§∞ ‡§™‡•ç‡§∞‡•Ä‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡§∞‡•á‡§Ç
        function previewBanner() {
            if (!isAdminMode) return;
            const fileInput = document.getElementById('customBanner');
            const file = fileInput.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('bannerImg').src = e.target.result;
                    document.getElementById('bannerImg').style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        }

        // ‡§∏‡•ç‡§≤‡§æ‡§á‡§° ‡§™‡•ç‡§∞‡•Ä‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡§∞‡•á‡§Ç
        function previewSlide(slideNum) {
            if (!isAdminMode) return;
            const fileInput = document.getElementById(`slideCustomImg${slideNum}`);
            const file = fileInput.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById(`slideImg${slideNum}`).src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        // UPI QR ‡§™‡•ç‡§∞‡•Ä‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡§∞‡•á‡§Ç
        function previewUpiQr() {
            if (!isAdminMode) return;
            const fileInput = document.getElementById('upiQrInput');
            const file = fileInput.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('upiQrCode').src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        // ‡§¨‡•à‡§Ç‡§ï QR ‡§™‡•ç‡§∞‡•Ä‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡§∞‡•á‡§Ç
        function previewBankQr() {
            if (!isAdminMode) return;
            const fileInput = document.getElementById('bankQrInput');
            const file = fileInput.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('bankQrCode').src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        // ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§´‡•â‡§∞‡•ç‡§Æ ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
        function showCustomerForm(type) {
            if (type === 'login') {
                document.getElementById('customerLoginForm').style.display = 'block';
                document.getElementById('customerRegisterForm').style.display = 'none';
            } else {
                document.getElementById('customerLoginForm').style.display = 'none';
                document.getElementById('customerRegisterForm').style.display = 'block';
            }
        }

        // Google ‡§≤‡•â‡§ó‡§ø‡§®/‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞
        function googleLogin() {
            const googleAuthUrl = `https://accounts.google.com/o/oauth2/v2/auth?client_id=${GOOGLE_CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=code&scope=email%20profile`;
            window.location.href = googleAuthUrl;
            // ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§á‡§Ç‡§ü‡•Ä‡§ó‡•ç‡§∞‡•á‡§∂‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡•à‡§ï‡§è‡§Ç‡§° ‡§™‡§∞ ‡§∞‡•Ä‡§°‡§æ‡§Ø‡§∞‡•á‡§ï‡•ç‡§ü ‡§π‡•à‡§Ç‡§°‡§≤ ‡§ï‡§∞‡§®‡§æ ‡§π‡•ã‡§ó‡§æ‡•§
        }

        // ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞
        function registerCustomer() {
            const name = document.getElementById('registerName').value;
            const mobile = document.getElementById('registerMobile').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;

            if (!name || !mobile || !email || !password) {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§≠‡§∞‡•á‡§Ç!");
                return;
            }

            if (!/^[6-9]\d{9}$/.test(mobile)) {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç!");
                return;
            }

            if (!/\S+@\S+\.\S+/.test(email)) {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä ‡§ú‡•Ä‡§Æ‡•á‡§≤ ‡§°‡§æ‡§≤‡•á‡§Ç!");
                return;
            }

            if (customers.some(c => c.mobile === mobile || c.email === email)) {
                alert("‡§Ø‡§π ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§Ø‡§æ ‡§ú‡•Ä‡§Æ‡•á‡§≤ ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞‡•ç‡§° ‡§π‡•à!");
                return;
            }

            const newCustomer = {
                name,
                mobile,
                email,
                password,
                purchases: []
            };
            customers.push(newCustomer);
            localStorage.setItem('customers', JSON.stringify(customers));
            document.getElementById('customerRegisterForm').style.display = 'none';
            alert("‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•á‡§∂‡§® ‡§∏‡§´‡§≤! ‡§Ö‡§¨ ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç‡•§");
        }

        // ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§≤‡•â‡§ó‡§ø‡§®
        function loginCustomer() {
            const loginInput = document.getElementById('loginMobile').value;
            const password = document.getElementById('loginPassword').value;

            const customer = customers.find(c => (c.mobile === loginInput || c.email === loginInput) && c.password === password);
            if (customer) {
                currentCustomer = customer;
                localStorage.setItem('currentCustomer', JSON.stringify(currentCustomer));
                document.getElementById('customerLoginForm').style.display = 'none';
                updateCustomerUI();
                alert("‡§≤‡•â‡§ó‡§ø‡§® ‡§∏‡§´‡§≤!");
            } else {
                alert("‡§ó‡§≤‡§§ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤/‡§ú‡•Ä‡§Æ‡•á‡§≤ ‡§Ø‡§æ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°!");
            }
        }

        // ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§≤‡•â‡§ó‡§Ü‡§â‡§ü
        function logoutCustomer() {
            currentCustomer = null;
            localStorage.removeItem('currentCustomer');
            updateCustomerUI();
            showSection('home');
            alert("‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§≤‡•â‡§ó‡§Ü‡§â‡§ü ‡§π‡•ã ‡§ó‡§è!");
        }

        // PDF ‡§¨‡§ø‡§≤ ‡§ú‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
        function generatePDFBill(name, mobile, customerAddress, orderDetails, subtotal, subtotalAfterDiscount, discount, total, date) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.setFontSize(16);
            doc.text("‡§´‡•ç‡§∞‡•á‡§∂ ‡§Æ‡§æ‡§∞‡•ç‡§ü - ‡§¨‡§ø‡§≤", 10, 10);
            doc.setFontSize(12);
            doc.text("‡§¶‡•Å‡§ï‡§æ‡§® ‡§ï‡§æ ‡§™‡§§‡§æ:", 10, 20);
            doc.text(SHOP_ADDRESS, 10, 30);
            doc.text("‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ:", 10, 50);
            doc.text(name, 10, 60);
            doc.text("‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤:", 10, 70);
            doc.text(mobile, 10, 80);
            doc.text("‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§™‡§§‡§æ:", 10, 90);
            doc.text(customerAddress, 10, 100);
            doc.text("‡§ë‡§∞‡•ç‡§°‡§∞ ‡§µ‡§ø‡§µ‡§∞‡§£:", 10, 110);
            doc.text(orderDetails, 10, 120, { maxWidth: 190 });
            doc.text(`‡§∏‡§¨‡§ü‡•ã‡§ü‡§≤: ‚Çπ${subtotal}`, 10, 140);
            if (discount > 0) {
                doc.text(`‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü (10%): -‚Çπ${discount}`, 10, 150);
            }
            doc.text(`‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§ö‡§æ‡§∞‡•ç‡§ú: ‚Çπ${DELIVERY_CHARGE}`, 10, 160);
            doc.text(`‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø: ‚Çπ${total}`, 10, 170);
            doc.text(`‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï: ${date}`, 10, 180);
            const pdfData = doc.output('datauristring');
            return pdfData;
        }

        // ‡§è‡§°‡§Æ‡§ø‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
        function showAdminDashboard() {
            const totalOrders = paymentRecords.length;
            const totalRevenue = paymentRecords.reduce((sum, record) => sum + record.total, 0);

            document.getElementById('totalOrders').textContent = totalOrders;
            document.getElementById('totalRevenue').textContent = `‚Çπ${totalRevenue}`;

            const customerRecords = document.getElementById('adminCustomerRecords');
            const stockRecords = document.getElementById('adminStockRecords');

            const recordsHTML = customers.flatMap(customer => 
                customer.purchases.map(p => `
                    <tr>
                        <td>${customer.name}</td>
                        <td>${customer.mobile}</td>
                        <td>${p.orderDetails.replace(/\n/g, '<br>')}</td>
                        <td>‚Çπ${p.total}</td>
                        <td>${p.date}</td>
                        <td>${p.address}</td>
                        <td><a href="${p.billPDF}" download="bill_${customer.mobile}_${p.date}.pdf">‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§°</a></td>
                    </tr>
                `)
            ).join('');
            customerRecords.innerHTML = recordsHTML;

            const stockHTML = products.map(product => `
                <tr>
                    <td>${product.name}</td>
                    <td>‚Çπ${product.price500g}</td>
                    <td>‚Çπ${product.price1kg}</td>
                    <td>${product.discount500g > 0 ? `‚Çπ${product.discount500g} (500g)` : ''} ${product.discount1kg > 0 ? `‚Çπ${product.discount1kg} (1kg)` : ''}</td>
                    <td>${product.outOfStock ? '‡§Ü‡§â‡§ü ‡§ë‡§´ ‡§∏‡•ç‡§ü‡•â‡§ï' : '‡§â‡§™‡§≤‡§¨‡•ç‡§ß'}</td>
                </tr>
            `).join('');
            stockRecords.innerHTML = stockHTML;
        }

        // ‡§ï‡§∏‡•ç‡§ü‡§Æ‡§∞ ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
        function showCustomerDashboard() {
            if (!currentCustomer) return;
            const customerInfo = `‡§®‡§æ‡§Æ: ${currentCustomer.name}\n‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤: ${currentCustomer.mobile}\n‡§ú‡•Ä‡§Æ‡•á‡§≤: ${currentCustomer.email}`;
            document.getElementById('customerDashInfo').textContent = customerInfo;

            const purchaseHistory = currentCustomer.purchases.map(p => `
                <tr>
                    <td>${p.orderDetails.replace(/\n/g, '<br>')}</td>
                    <td>‚Çπ${p.total}</td>
                    <td>${p.date}</td>
                    <td>${p.address}</td>
                    <td>${p.paymentMethod === '‡§ë‡§®‡§≤‡§æ‡§á‡§®' ? '‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü' : '‡§™‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó'}</td>
                    <td><a href="${p.billPDF}" download="bill_${currentCustomer.mobile}_${p.date}.pdf">‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§°</a></td>
                </tr>
            `).join('');
            document.getElementById('customerPurchaseHistory').innerHTML = purchaseHistory;

            const currentOrderHTML = cart.length > 0 ? cart.map(item => {
                const weightText = item.weight === 0.5 ? '500g' : '1kg';
                return `<p>${item.name} - ${weightText} x ${item.quantity} - ‚Çπ${item.price * item.quantity}</p>`;
            }).join('') : '<p>‡§ï‡•ã‡§à ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§®‡§π‡•Ä‡§Ç</p>';
            document.getElementById('currentOrderDetails').innerHTML = currentOrderHTML;
        }

        // ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®‡•ç‡§∏
        function addToCart(productId, weight, price) {
            if (isAdminMode) return;

            if (!currentCustomer) {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§≤‡•â‡§ó‡§ø‡§® ‡§Ø‡§æ ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç‡•§");
                showCustomerForm('login');
                return;
            }

            const product = products.find(p => p.id === productId);
            if (product.outOfStock) {
                alert(`${product.name} ‡§Ü‡§â‡§ü ‡§ë‡§´ ‡§∏‡•ç‡§ü‡•â‡§ï ‡§π‡•à!`);
                return;
            }
            const existingItem = cart.find(item => item.id === productId && item.weight === weight);

            if(existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({
                    id: productId,
                    name: product.name,
                    weight: weight,
                    price: price,
                    quantity: 1
                });
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
            if (currentCustomer) showCustomerDashboard();
        }

        function renderCart() {
            const cartContainerFruits = document.getElementById('cartItems');
            const cartContainerVegetables = document.getElementById('cartItemsVegetables');
            const subtotalElementFruits = document.getElementById('subtotal');
            const discountElementFruits = document.getElementById('discount');
            const totalElementFruits = document.getElementById('total');
            const subtotalElementVegetables = document.getElementById('subtotalVegetables');
            const discountElementVegetables = document.getElementById('discountVegetables');
            const totalElementVegetables = document.getElementById('totalVegetables');

            const cartHTML = cart.map(item => {
                const weightText = item.weight === 0.5 ? '500g' : '1kg';
                return `<div>${item.name} - ${weightText} x ${item.quantity} = ‚Çπ${item.price * item.quantity}<button onclick="removeFromCart(${item.id}, ${item.weight})">‡§π‡§ü‡§æ‡§è‡§Å</button></div>`;
            }).join('');

            cartContainerFruits.innerHTML = cartHTML;
            cartContainerVegetables.innerHTML = cartHTML;

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            let discount = 0;
            if (currentCustomer && currentCustomer.purchases.length === 0) {
                discount = subtotal * 0.1; // 10% discount on first order
            }
            const subtotalAfterDiscount = subtotal - discount;
            const total = subtotalAfterDiscount + DELIVERY_CHARGE;

            subtotalElementFruits.textContent = subtotal;
            discountElementFruits.textContent = discount;
            totalElementFruits.textContent = total;
            subtotalElementVegetables.textContent = subtotal;
            discountElementVegetables.textContent = discount;
            totalElementVegetables.textContent = total;
        }

        function removeFromCart(productId, weight) {
            if (isAdminMode) return;
            cart = cart.filter(item => !(item.id === productId && item.weight === weight));
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
            if (currentCustomer) showCustomerDashboard();
        }

        // ‡§è‡§°‡•ç‡§∞‡•á‡§∏ ‡§´‡•â‡§∞‡•ç‡§Æ
        function showAddressForm() {
            if(cart.length === 0) {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§ï‡•Å‡§õ ‡§Ü‡§á‡§ü‡§Æ ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§°‡§æ‡§≤‡•á‡§Ç!");
                return;
            }
            document.getElementById('addressForm').style.display = 'block';
            if (currentCustomer) {
                document.getElementById('name').value = currentCustomer.name;
                document.getElementById('mobile').value = currentCustomer.mobile;
            }
        }

        // ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§´‡•â‡§∞‡•ç‡§Æ ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç (‡§Ø‡•Ç‡§®‡§ø‡§ï QR ‡§ï‡•ã‡§° ‡§ï‡•á ‡§∏‡§æ‡§•)
        function showPaymentForm() {
            const name = document.getElementById('name').value;
            const mobile = document.getElementById('mobile').value;
            const address = document.getElementById('address').value;

            if(!name || !mobile || !address) {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§ï‡§æ ‡§™‡§§‡§æ ‡§≠‡§∞‡•á‡§Ç!");
                return;
            }

            if(!/^[6-9]\d{9}$/.test(mobile)) {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç!");
                return;
            }

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            let discount = 0;
            if (currentCustomer && currentCustomer.purchases.length === 0) {
                discount = subtotal * 0.1; // 10% discount on first order
            }
            const subtotalAfterDiscount = subtotal - discount;
            const total = subtotalAfterDiscount + DELIVERY_CHARGE;
            document.getElementById('paymentTotal').textContent = total;

            const orderId = `ORDER_${Date.now()}_${Math.floor(Math.random() * 1000)}`;
            const paymentLink = `upi://pay?pa=yourUPI@bank&pn=FreshMart&am=${total}&cu=INR&tn=${orderId}`;
            QRCode.toDataURL(paymentLink, { width: 220, margin: 1 }, (err, url) => {
                if (err) console.error(err);
                document.getElementById('paymentQrCode').src = url;
            });

            document.getElementById('addressForm').style.display = 'none';
            document.getElementById('paymentForm').style.display = 'block';
        }

        // ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§®‡•ç‡§´‡§∞‡•ç‡§Æ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§¨‡§ø‡§≤ ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Å
        function confirmPayment() {
            const name = document.getElementById('name').value;
            const mobile = document.getElementById('mobile').value;
            const address = document.getElementById('address').value;

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            let discount = 0;
            if (currentCustomer && currentCustomer.purchases.length === 0) {
                discount = subtotal * 0.1; // 10% discount on first order
            }
            const subtotalAfterDiscount = subtotal - discount;
            const total = subtotalAfterDiscount + DELIVERY_CHARGE;
            const orderDetails = cart.map(item => {
                const weightText = item.weight === 0.5 ? '500g' : '1kg';
                return `${item.name} - ${weightText} x ${item.quantity} - ‚Çπ${item.price * item.quantity}`;
            }).join('\n');
            const date = new Date().toLocaleString();

            const billPDF = generatePDFBill(name, mobile, address, orderDetails, subtotal, subtotalAfterDiscount, discount, total, date);

            const message = `*‡§®‡§Ø‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞ (‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü)!*\n\n*‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ:* ${name}\n*‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤:* ${mobile}\n*‡§™‡§§‡§æ:* ${address}\n\n*‡§ë‡§∞‡•ç‡§°‡§∞ ‡§µ‡§ø‡§µ‡§∞‡§£:*\n${orderDetails}\n\n*‡§∏‡§¨‡§ü‡•ã‡§ü‡§≤:* ‚Çπ${subtotal}\n*‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü:* ‚Çπ${discount}\n*‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§ö‡§æ‡§∞‡•ç‡§ú:* ‚Çπ${DELIVERY_CHARGE}\n*‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø:* ‚Çπ${total}\n*‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï:* ${date}\n\n*‡§¨‡§ø‡§≤ ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç:* ${billPDF}`;

            const whatsappUrl = `https://wa.me/917589967294?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');

            document.getElementById('billDetails').textContent = `‡§¶‡•Å‡§ï‡§æ‡§® ‡§ï‡§æ ‡§™‡§§‡§æ:\n${SHOP_ADDRESS}\n\n‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ: ${name}\n‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤: ${mobile}\n‡§™‡§§‡§æ: ${address}\n\n‡§ë‡§∞‡•ç‡§°‡§∞ ‡§µ‡§ø‡§µ‡§∞‡§£:\n${orderDetails}\n\n‡§∏‡§¨‡§ü‡•ã‡§ü‡§≤: ‚Çπ${subtotal}\n‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü: ‚Çπ${discount}\n‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§ö‡§æ‡§∞‡•ç‡§ú: ‚Çπ${DELIVERY_CHARGE}\n‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø: ‚Çπ${total}\n‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï: ${date}`;
            document.getElementById('paymentForm').style.display = 'none';
            document.getElementById('billForm').style.display = 'block';

            const record = { orderDetails, total, date, paymentMethod: "‡§ë‡§®‡§≤‡§æ‡§á‡§®", address, billPDF };
            paymentRecords.push(record);
            localStorage.setItem('paymentRecords', JSON.stringify(paymentRecords));

            if (currentCustomer) {
                currentCustomer.purchases.push(record);
                const customerIndex = customers.findIndex(c => c.mobile === currentCustomer.mobile);
                customers[customerIndex] = currentCustomer;
                localStorage.setItem('customers', JSON.stringify(customers));
                localStorage.setItem('currentCustomer', JSON.stringify(currentCustomer));
                showCustomerDashboard();
            }

            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        }

        // ‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§è‡§™‡•ç‡§™ ‡§ë‡§∞‡•ç‡§°‡§∞ (‡§ï‡•à‡§∂ ‡§ë‡§® ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä)
        function placeOrder() {
            const name = document.getElementById('name').value;
            const mobile = document.getElementById('mobile').value;
            const address = document.getElementById('address').value;

            if(!name || !mobile || !address) {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§≠‡§∞‡•á‡§Ç");
                return;
            }

            if(!/^[6-9]\d{9}$/.test(mobile)) {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç");
                return;
            }

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            let discount = 0;
            if (currentCustomer && currentCustomer.purchases.length === 0) {
                discount = subtotal * 0.1; // 10% discount on first order
            }
            const subtotalAfterDiscount = subtotal - discount;
            const total = subtotalAfterDiscount + DELIVERY_CHARGE;
            const orderDetails = cart.map(item => {
                const weightText = item.weight === 0.5 ? '500g' : '1kg';
                return `${item.name} - ${weightText} x ${item.quantity} - ‚Çπ${item.price * item.quantity}`;
            }).join('\n');
            const date = new Date().toLocaleString();

            const billPDF = generatePDFBill(name, mobile, address, orderDetails, subtotal, subtotalAfterDiscount, discount, total, date);

            const message = `*‡§®‡§Ø‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞ (‡§ï‡•à‡§∂ ‡§ë‡§® ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä)!*\n\n*‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ:* ${name}\n*‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤:* ${mobile}\n*‡§™‡§§‡§æ:* ${address}\n\n*‡§ë‡§∞‡•ç‡§°‡§∞ ‡§µ‡§ø‡§µ‡§∞‡§£:*\n${orderDetails}\n\n*‡§∏‡§¨‡§ü‡•ã‡§ü‡§≤:* ‚Çπ${subtotal}\n*‡§°‡§ø‡§∏‡•ç‡§ï‡§æ‡§â‡§Ç‡§ü:* ‚Çπ${discount}\n*‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§ö‡§æ‡§∞‡•ç‡§ú:* ‚Çπ${DELIVERY_CHARGE}\n*‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø:* ‚Çπ${total}\n*‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï:* ${date}\n\n*‡§¨‡§ø‡§≤ ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç:* ${billPDF}`;

            const whatsappUrl = `https://wa.me/917589967294?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');

            if (currentCustomer) {
                const record = { orderDetails, total, date, paymentMethod: "‡§ï‡•à‡§∂ ‡§ë‡§® ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä", address, billPDF };
                currentCustomer.purchases.push(record);
                const customerIndex = customers.findIndex(c => c.mobile === currentCustomer.mobile);
                customers[customerIndex] = currentCustomer;
                localStorage.setItem('customers', JSON.stringify(customers));
                localStorage.setItem('currentCustomer', JSON.stringify(currentCustomer));
                showCustomerDashboard();
            }

            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            document.getElementById('addressForm').style.display = 'none';
            renderCart();
            alert("‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü! ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§™‡§∞ ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§");
        }

        // Google ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§™‡§∞‡§Æ‡§ø‡§∂‡§® ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®
        function requestLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const latitude = position.coords.latitude;
                        const longitude = position.coords.longitude;
                        const locationUrl = `https://www.google.com/maps?q=${latitude},${longitude}`;
                        document.getElementById('address').value = `‡§Æ‡•á‡§∞‡§æ ‡§∏‡•ç‡§•‡§æ‡§®: ${locationUrl}`;
                    },
                    (error) => {
                        alert("‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§™‡§§‡§æ ‡§°‡§æ‡§≤‡•á‡§Ç‡•§");
                    }
                );
            } else {
                alert("‡§Ü‡§™‡§ï‡§æ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§§‡§æ‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§™‡§§‡§æ ‡§°‡§æ‡§≤‡•á‡§Ç‡•§");
            }
        }

        // ‡§è‡§°‡§Æ‡§ø‡§® ‡§´‡•â‡§∞‡•ç‡§Æ ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
        function showAdminForm() {
            document.getElementById('adminForm').style.display = 'block';
        }

        // ‡§è‡§°‡§Æ‡§ø‡§® ‡§µ‡•á‡§∞‡§ø‡§´‡§ø‡§ï‡•á‡§∂‡§®
        function verifyAdmin() {
            const password = document.getElementById('adminPassword').value;
            if (password === ADMIN_PASSWORD) {
                isAdminMode = true;
                document.getElementById('adminForm').style.display = 'none';
                document.getElementById('adminBtn').style.display = 'none';
                document.getElementById('logoutBtn').style.display = 'inline-block';
                updateCustomerUI();
                renderProducts();
                alert("‡§è‡§°‡§Æ‡§ø‡§® ‡§Æ‡•ã‡§° ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø! ‡§Ö‡§¨ ‡§Ü‡§™ ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° ‡§∏‡•á ‡§∏‡§≠‡•Ä ‡§°‡•á‡§ü‡§æ ‡§¶‡•á‡§ñ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§");
            } else {
                alert("‡§ó‡§≤‡§§ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°!");
            }
        }

        // ‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§Ü‡§â‡§ü
        function logoutAdmin() {
            isAdminMode = false;
            document.getElementById('adminBtn').style.display = 'inline-block';
            document.getElementById('logoutBtn').style.display = 'none';
            updateCustomerUI();
            renderProducts();
            showSection('home');
            alert("‡§è‡§°‡§Æ‡§ø‡§® ‡§Æ‡•ã‡§° ‡§∏‡•á ‡§≤‡•â‡§ó‡§Ü‡§â‡§ü ‡§π‡•ã ‡§ó‡§è!");
        }

        // ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤ ‡§∞‡•á‡§Ç‡§°‡§∞
        loadData();
        renderProducts();
        showSection('home');
    </script>
</body>
</html>